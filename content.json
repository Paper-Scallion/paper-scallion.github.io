{"meta":{"title":"纸葱の小站","subtitle":"来都来了，听首歌再走吧","description":"基于Hexo构建的博客","author":"Paper_Scallion","url":"https://paper-scallion.github.io","root":"/"},"pages":[],"posts":[{"title":"倒立摆的建模仿真与控制（二）编码器的原理及使用以及电机控制","slug":"倒立摆的建模仿真与控制（二）","date":"2022-10-13T06:19:49.424Z","updated":"2022-10-13T07:12:23.482Z","comments":true,"path":"2022/10/13/倒立摆的建模仿真与控制（二）/","link":"","permalink":"https://paper-scallion.github.io/2022/10/13/%E5%80%92%E7%AB%8B%E6%91%86%E7%9A%84%E5%BB%BA%E6%A8%A1%E4%BB%BF%E7%9C%9F%E4%B8%8E%E6%8E%A7%E5%88%B6%EF%BC%88%E4%BA%8C%EF%BC%89/","excerpt":"编码器的原理及使用 对于倒立摆系统，由于其本身是自不稳定的系统，实验建模存在一定的困难。但是忽略掉一些次要的因素后，倒立摆系统就是一个典型的运动的刚体系统，可以在惯性坐标系内应用经典力学理论建立系统的动力学方程。","text":"编码器的原理及使用 对于倒立摆系统，由于其本身是自不稳定的系统，实验建模存在一定的困难。但是忽略掉一些次要的因素后，倒立摆系统就是一个典型的运动的刚体系统，可以在惯性坐标系内应用经典力学理论建立系统的动力学方程。","categories":[{"name":"课程实验","slug":"课程实验","permalink":"https://paper-scallion.github.io/categories/%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C/"}],"tags":[{"name":"自动控制原理","slug":"自动控制原理","permalink":"https://paper-scallion.github.io/tags/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86/"}]},{"title":"倒立摆的建模仿真与控制（一）倒立摆系统的建模","slug":"倒立摆的建模仿真与控制（一）倒立摆系统的建模","date":"2022-10-12T06:59:10.132Z","updated":"2022-10-13T07:12:50.361Z","comments":true,"path":"2022/10/12/倒立摆的建模仿真与控制（一）倒立摆系统的建模/","link":"","permalink":"https://paper-scallion.github.io/2022/10/12/%E5%80%92%E7%AB%8B%E6%91%86%E7%9A%84%E5%BB%BA%E6%A8%A1%E4%BB%BF%E7%9C%9F%E4%B8%8E%E6%8E%A7%E5%88%B6%EF%BC%88%E4%B8%80%EF%BC%89%E5%80%92%E7%AB%8B%E6%91%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BB%BA%E6%A8%A1/","excerpt":"倒立摆的建模 对于倒立摆系统，由于其本身是自不稳定的系统，实验建模存在一定的困难。但是忽略掉一些次要的因素后，倒立摆系统就是一个典型的运动的刚体系统，可以在惯性坐标系内应用经典力学理论建立系统的动力学方程。","text":"倒立摆的建模 对于倒立摆系统，由于其本身是自不稳定的系统，实验建模存在一定的困难。但是忽略掉一些次要的因素后，倒立摆系统就是一个典型的运动的刚体系统，可以在惯性坐标系内应用经典力学理论建立系统的动力学方程。 可将倒立摆系统抽象成小车和匀质杆组成的系统， 如下图所示 其中 \\(M\\)：小车质量 \\(m\\)：摆杆质量 \\(b\\)：小车摩擦系数 \\(l\\)：摆杆转动轴心到杆质心的长度（当杆均匀时，长度为\\(2l\\)） \\(I\\)：摆杆转动惯量 \\(F\\)：加在小车上的力 \\(x\\)：小车位置 其中\\(\\phi\\)为摆杆与垂直向上方向的夹角，\\(\\theta\\)为摆杆与垂直向下方向的夹角（考虑到摆杆初始位置为竖直向下）。 分析小车水平方向所受的合力，可以得到以下方程： \\[ M\\ddot x=F-b\\dot x-N \\tag{1} \\] 由摆杆水平方向所受的合力，可以得到以下方程： \\[ \\begin{align} N&amp;=m\\frac{d^2}{dt^2}(x+l\\sin\\theta)\\notag \\\\ &amp;=m\\ddot x+ml\\frac{d}{dt}(\\dot\\theta\\cos\\theta)\\notag \\\\ &amp;=m\\ddot x+ml\\ddot\\theta\\cos\\theta-ml\\dot\\theta^2\\sin\\theta\\tag{2} \\end{align} \\] 合并(1)(2)得： \\[ (M+m)\\ddot x+b\\dot x+ml(\\ddot\\theta\\cos\\theta-ml\\dot\\theta^2\\sin\\theta)=F\\tag{3} \\] 对摆杆垂直方向上的合力进行分析，可以得到下面方程： \\[ \\begin{align} P-mg&amp;=m\\frac{d^2}{dt^2}(l\\cos\\theta)\\notag \\\\ &amp;=-ml\\frac{d}{dt}(\\dot\\theta\\sin\\theta)\\notag \\\\ &amp;=-ml\\ddot\\theta\\sin\\theta-ml\\dot\\theta^2\\cos\\theta\\tag{4} \\end{align} \\] 力矩平衡方程如下： \\[ \\begin{align} Pl\\sin\\phi+Nl\\cos\\phi&amp;=I\\ddot\\theta\\notag \\\\ -Pl\\sin\\theta-Nl\\cos\\theta&amp;=I\\ddot\\theta\\tag{5} \\end{align} \\] 联立(2)(4)(5)，消去\\(N\\)和\\(P\\)得： \\[ (I+ml^2)\\ddot\\theta+mgl\\sin\\theta=-ml\\ddot x\\cos\\theta\\tag{6} \\] 根据\\(\\phi\\)和\\(\\theta\\)定义知\\(\\theta=\\phi+\\pi\\)，当摆杆处于竖直位置时，\\(\\phi\\)接近于0，则有\\(\\cos\\theta=-\\cos\\phi\\approx-1\\)，\\(\\sin\\theta=-\\sin\\phi\\approx-\\phi\\)，\\(\\dot\\theta^2\\approx0\\)，\\(\\ddot\\theta=\\ddot\\phi\\)并使用\\(u\\)来代表输入力\\(F\\)，代入到(3)(6)，得线性化运动方程如下： \\[ \\begin{cases} (M+m)\\ddot x+b\\dot x-ml\\ddot\\phi=u \\\\ (I+ml^2)\\ddot\\phi-mgl\\phi=ml\\ddot x \\end{cases}\\tag{7} \\] 建立系统的状态空间模型 求解(7)，可得： \\[ \\begin{cases} \\dot x=\\dot x \\\\ \\ddot x=-\\frac{(I+ml^2)b}{p}\\dot x+\\frac{m^2gl^2}{p}\\phi+\\frac{I+ml^2}{p}u \\\\ \\dot\\phi=\\dot\\phi \\\\ \\ddot\\phi=-\\frac{mbl}{p}\\dot x+\\frac{mgl(M+m)}{p}\\phi+\\frac{ml}{p}u \\end{cases}\\tag{8} \\] 整理后得到系统状态空间方程： \\[ \\begin{bmatrix} \\dot x \\\\ \\ddot x \\\\ \\dot\\phi \\\\ \\ddot\\phi \\\\ \\end{bmatrix} = \\begin{bmatrix} 0 &amp; 1 &amp; 0 &amp; 0 \\\\ 0 &amp; -\\frac{(I+ml^2)b}{p} &amp; \\frac{m^2gl^2}{p} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\\\ 0 &amp; -\\frac{mbl}{p} &amp; \\frac{mgl(M+m)}{p} &amp; 0\\\\ \\end{bmatrix} \\begin{bmatrix} x \\\\ \\dot x \\\\ \\phi \\\\ \\dot\\phi \\\\ \\end{bmatrix} + \\begin{bmatrix} 0 \\\\ \\frac{I+ml^2}{p} \\\\ 0 \\\\ \\frac{ml}{p} \\\\ \\end{bmatrix} u\\tag{9} \\] 输出方程如下： \\[ y= \\begin{bmatrix} x \\\\ \\phi \\end{bmatrix} = \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\end{bmatrix} \\begin{bmatrix} x \\\\ \\dot x \\\\ \\phi \\\\ \\dot\\phi \\\\ \\end{bmatrix}\\tag{10} \\] 其中\\(p=(M+m)I+Mml^2\\) 建立系统简化的的状态空间模型 在理想情况下，摆杆转动惯量\\(I=\\frac{1}{3}ml^2\\)，摩擦系数\\(b=0\\)，小车质量\\(M\\)远大于摆杆质量\\(m\\)即\\(M\\gg m\\)，代入到(9)(10)得到理想情况下的系统状态空间方程： \\[ \\begin{bmatrix} \\dot x \\\\ \\ddot x \\\\ \\dot\\phi \\\\ \\ddot\\phi \\\\ \\end{bmatrix} = \\begin{bmatrix} 0 &amp; 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\\\ 0 &amp; 0 &amp; \\frac{3g}{4l} &amp; 0\\\\ \\end{bmatrix} \\begin{bmatrix} x \\\\ \\dot x \\\\ \\phi \\\\ \\dot\\phi \\\\ \\end{bmatrix} + \\begin{bmatrix} 0 \\\\ 1 \\\\ 0 \\\\ \\frac{3}{4l} \\\\ \\end{bmatrix} u\\tag{11} \\] 理想情况下的系统输出方程： \\[ y= \\begin{bmatrix} x \\\\ \\phi \\end{bmatrix} = \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\end{bmatrix} \\begin{bmatrix} x \\\\ \\dot x \\\\ \\phi \\\\ \\dot\\phi \\\\ \\end{bmatrix}\\tag{12} \\] 建立系统传递函数模型 对(7)进行拉普拉斯变换得： \\[ \\begin{cases} (M+m)X(s)s^2+bX(s)s-ml\\Phi(s)s^2=U(s) \\\\ (I+ml^2)\\Phi(s)s^2-mgl\\Phi(s)=mlX(s)s^2 \\end{cases}\\tag{13} \\] 注：推导传递函数时假设初始条件为0。 整理(13)的第二个方程得： \\[ \\frac{\\Phi(s)}{X(s)}=\\frac{mls^2}{(I+ml^2)s^2-mgl}\\tag{14} \\] 将(14)代入(13)的第一个方程消去\\(X(s)\\)，整理得： \\[ \\frac{\\Phi(s)}{U(s)}=\\frac{\\frac{ml}{q}s}{s^3+\\frac{b(I+ml^2)}{q}s^2-\\frac{(M+m)mgl}{q}s-\\frac{bmgl}{q}}\\tag{15} \\] 将(15)代入(14)消去\\(\\Phi(s)\\)，整理得： \\[ \\frac{X(s)}{U(s)}=\\frac{\\frac{I+ml^2}{q}s^2-\\frac{mgl}{q}}{s^4+\\frac{b(I+ml^2)}{q}s^3-\\frac{(M+m)mgl}{q}s^2-\\frac{bmgl}{q}s}\\tag{16} \\] 其中\\(q=(M+m)(I+ml^2)-m^2l^2\\)","categories":[{"name":"课程实验","slug":"课程实验","permalink":"https://paper-scallion.github.io/categories/%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C/"}],"tags":[{"name":"自动控制原理","slug":"自动控制原理","permalink":"https://paper-scallion.github.io/tags/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86/"}]}],"categories":[{"name":"课程实验","slug":"课程实验","permalink":"https://paper-scallion.github.io/categories/%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C/"}],"tags":[{"name":"自动控制原理","slug":"自动控制原理","permalink":"https://paper-scallion.github.io/tags/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86/"}]}